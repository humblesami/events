<odoo>
    <data>
        <record id="doc_edit_form" model="ir.ui.view">
            <field name="name">e_sign.document.admin.form</field>
            <field name="model">e_sign.document</field>
            <field name="arch" type="xml">
                <form>
                    <h4>Title</h4>
                    <field name="name" class="mp_doc_name" string="Title"/>
                    <h4>Description</h4>
                    <field name="content" string="Description"/>
                    <field name="filename" invisible="1"/>
                    <h4>Attachment</h4>
                    <field name="attachment" filename="filename" class="mp_e_sign_docs_upload oe_edit oe_edit_only"/>
                    <button type="object" name="open_signature_assign_form"
                            class="btn btn-primary oe_read_only btn-sm" string="View"/>
                    <script src="/e_sign/static/js/doc.js"/>
                </form>
            </field>
        </record>

        <record id="doc_view_sign_form" model="ir.ui.view">
            <field name="name">e_sign.document.view_sign.form</field>
            <field name="model">e_sign.document</field>
            <field name="arch" type="xml">
                <form>
                    <field name="path" class="e_sign_doc_path" invisible="1"/>
                    <field name="id" class="e_sign_doc_id" invisible="1"/>
                    <!--<field name="partner_ids"/>-->
                    <script src="/e_sign/static/js/doc.js"/>
                </form>
            </field>
        </record>

        <record id="doc_view_only_form" model="ir.ui.view">
            <field name="name">e_sign.document.view_only.form</field>
            <field name="model">e_sign.document</field>
            <field name="arch" type="xml">
                <form>
                    <field name="path" class="e_sign_doc_path" invisible="1"/>
                    <script src="/e_sign/static/js/doc_view.js"></script>
                </form>
            </field>
        </record>

        <record id="doc_assign_signatures_form" model="ir.ui.view">
            <field name="name">e_sign.document.assign_signatures.form</field>
            <field name="model">e_sign.document</field>
            <field name="arch" type="xml">
                <form create="false" class="sign_doc_form">


                    <field name="id" class="e_sign_doc_id" invisible="1"/>
                    <div groups="dn_base.group_dn_app_manager" class="details_div">
                        <div class="pending_signs">

                            <label string="Pending Signatures:"></label>
                            <field groups="dn_base.group_dn_app_manager" class="badge" name="pending_signatures"/>
                        </div>


                        <field class="sign_ids" domain="[('id', '=', 1)]" name="sign_ids" groups="dn_base.group_dn_app_manager" string=" " mode="kanban" widget='one2many'>
                            <kanban string="Signature(s)" create="false">
                                <field name="draw_signature"/>
                                <field name="id"/>
                                <field name="showbutton"/>
                                <templates>
                                    <t t-name="kanban-box">
                                        <div class="oe_kanban_card" style="transition: 0.3s">

                                            <div class="col-sm-4">
                                                <t t-if="record.draw_signature.raw_value">
                                                    <img style="width:100%" t-att-src="kanban_image('e_sign.signature', 'draw_signature', record.id.value)"/>
                                                </t>
                                                <t t-if="!record.draw_signature.raw_value">
                                                    <strong style="color:red">Pending...</strong>
                                                </t>
                                            </div>
                                            <div class="col-sm-8">
                                                <strong class="oe_partner_heading">
                                                    <!--<field name="document_id" style="margin-right:10px"/>-->
                                                    <field name="user_id"/>
                                                </strong>

                                            </div>
                                        </div>
                                    </t>
                                </templates>
                            </kanban>
                        </field>
                    </div>
                    <group>
                        <!--<field name="workflow_enabled" groups="dn_base.group_dn_app_manager" class="e_sign_wrk_flow" />-->
                    </group>
                    <div class="sign-position dev_only"/>

                    <div id="holder" style="position:relative;text-align: center;background-color: rgb(82, 86, 89);">

                        <div class="top_btns">
                            <div class="PdfTopBtnsWrapper">
                                <div class="btn  btn-sm doc_btn fa fa-chevron-left" id="prev"/>
                                <div class="btn  btn-sm doc_btn fa fa-chevron-right" id="next"/>
                                <span class="pg_no"> <span style="font-weight: bold;" id="page_num"/> / <span id="page_count"/></span>
                                <div class="btn btn-sm doc_btn fa fa-minus" id="zoomOut" title="Zoom Out"/>
                                <div class="btn btn-sm doc_btn fa fa-plus" id="zoomIn" title="Zoom In"/>
                                <span style="display: inline-block;" id="scaleSelectContainer">
                                    <select data-style="btn-primary" id="scaleSelect" title="Zoom" tabindex="23">
                                        <option title="" value="0.5">50%</option>
                                        <option title="" value="0.75">75%</option>
                                        <option title="" value="1">100%</option>
                                        <option title="" value="1.25">125%</option>
                                        <option title="" value="1.5">150%</option>
                                        <option title="" value="2">200%</option>
                                        <option title="" value="3">300%</option>
                                        <option title="" value="4">400%</option>
                                    </select>
                                </span>
                            </div>
                            <div class="PdfButtonWrapper">
                                <div id="save-doc-data" groups="dn_base.group_dn_app_manager" style="float:left" disabled="true" class="btn btn-primary  save_doc_data">
                                    Select User
                                </div>
                                <div id="signature-position" groups="dn_base.group_dn_app_manager" class="drag btn btn-primary position_btns sign_psition">
                                    Signature
                                </div>
                                <div id="initial-position" groups="dn_base.group_dn_app_manager" class="drag btn btn-primary position_btns initial_psition">
                                    Initials
                                </div>

                                <div id="date-position" groups="dn_base.group_dn_app_manager" class="drag btn btn-primary position_btns date_psition">
                                    Date
                                </div>
                                <div id="text-position" groups="dn_base.group_dn_app_manager" class="drag btn btn-primary position_btns name_psition">
                                    Name
                                </div>
                                <div id="name-position" groups="dn_base.group_dn_app_manager" class="drag btn btn-primary position_btns email_psition">
                                    Email
                                </div>
                                <div id="phone-position" groups="dn_base.group_dn_app_manager" class="drag btn btn-primary position_btns phone_psition">
                                    Phone
                                </div>
                                <div id="company-position" groups="dn_base.group_dn_app_manager" class="drag btn btn-primary position_btns company_psition">
                                    Company
                                </div>


                                <!--<div id="text-position" groups="dn_base.group_dn_app_manager" class="drag btn btn-primary position_btns text_psition">-->
                                <!--Text-->
                                <!--</div>-->
                            </div>

                        </div>
                        <div id="viewer_container" style="position:relative;">
                            <div id="nxxt_sign" style="display:none;background:rgba(228, 21, 21, 0.9);color:white;position:absolute;z-index: 99;width:140px;padding: 10px;cursor: pointer;border-bottom-right-radius: 78px;border-top-right-radius: 78px;">START SIGNING&gt;</div>

                            <div id="page_container1" style="overflow-y:auto;overflow-x:auto;position:relative;">

                                <div id="page_container" style="overflow-y:auto;overflow-x:auto;text-align: initial;position:relative;display: inline-block;">
                                    <canvas id="the-canvas"/>
                                </div>
                            </div>
                        </div>
                    </div>


                    <!--<script src="/e_sign/static/js/pdf.worker.js"/>-->
                    <!--<script src="/e_sign/static/js/pdf.js"/>-->
                    <div name="esign_script"><script src="/e_sign/static/js/viewer.js"/></div>
                    <link href="/e_sign/static/signature.css" rel="stylesheet"/>
                </form>
            </field>
        </record>

        <record id="view_e_sign_doc_tree" model="ir.ui.view">
            <field name="name">e_sign.document.tree</field>
            <field name="model">e_sign.document</field>
            <field name="arch" type="xml">
                <tree>
                    <field name="name" string="Document Title" />
                    <field name="my_signature_status" />
                    <field name="pending_signatures" type="string"/>
                    <!--<button type="object" name="open_signature_form" class="btn btn-primary btn-sm" string="View"/>-->
                    <button type="object" name="open_signature_assign_form" class="btn btn-primary btn-sm" string="View"/>
                </tree>
            </field>
        </record>

        <record id="e_sign_doc_kanban" model="ir.ui.view">
            <field name="name">e_sign.doc.kanban</field>
            <field name="model">e_sign.document</field>
            <field name="priority" eval="1"/>
            <field name="arch" type="xml">
                <kanban>
                    <templates>
                        <t t-name="kanban-box">
                            <div t-attf-class="  oe_kanban_card oe_kanban_global_click oe_semantic_html_override  oe_kanban_card {{record.group_fancy==1 ? 'oe_kanban_card_fancy' : ''}}                                                   oe_kanban_action">

                                <div class="oe_module_icon fa fa-file fa-5x" ></div>
                                <div t-attf-class="oe_kanban_content">
                                    <!-- title -->
                                    <h2>
                                        <field name="name"/>
                                    </h2>
                                    <button type="object" style="float:right" name="open_signature_assign_form" class="btn btn-primary btn-sm" string="View">View Document</button>
                                </div>
                            </div>
                        </t>
                    </templates>
                </kanban>
            </field>
        </record>

    </data>
</odoo>
