<odoo>
    <data>

        <record id="signature_tree" model="ir.ui.view">
            <field name="name">e_sign.signature.tree</field>
            <field name="model">e_sign.signature</field>
            <field name="arch" type="xml">
                <tree>
                    <field name="id"></field>
                    <!--<field name="document_id"></field>-->
                    <field name="user_id"></field>
                    <field name="draw_signature"></field>
                </tree>
            </field>
        </record>

        <record id="e_sign_kanban" model="ir.ui.view">
            <field name="name">e_sign.kanban</field>
            <field name="model">e_sign.signature</field>
            <field name="arch" type="xml">
                <kanban string="Signature(s)" create="false">
                    <field name="draw_signature"/>
                    <field name="id"/>
                    <field name="showbutton"/>
                    <templates>
                        <t t-name="kanban-box">
                            <div class="oe_kanban_card oe_kanban_global_click" style="transition: 0.3s">
                                <div class="kanban_del">
                                    <a type="delete" groups="meeting_point.group_meeting_admin">Delete</a>
                                </div>
                                <div class="col-sm-4">
                                    <t t-if="record.draw_signature.raw_value">
                                        <img style="width:100%" t-att-src="kanban_image('e_sign.signature', 'draw_signature', record.id.value)"/>
                                    </t>
                                    <t t-if="!record.draw_signature.raw_value">
                                        <strong style="color:red">Pending...</strong>
                                    </t>
                                </div>
                                <div class="col-sm-8">
                                    <strong class="oe_partner_heading">
                                        <!--<field name="document_id" style="margin-right:10px"/>-->
                                    </strong>
                                    <field name="user_id"/>
                                </div>
                            </div>
                        </t>
                    </templates>
                </kanban>

            </field>
        </record>


        <record id="signature_form" model="ir.ui.view">
            <field name="name">e_sign.signature.form</field>
            <field name="model">e_sign.signature</field>
            <field name="priority" eval="1"/>
            <field name="arch" type="xml">
                <form create="false">
                    <sheet string="Signatures">
                        <!--<h3>Document</h3>-->
                        <!--<field name="document_id" readonly="1" can_create="true" can_write="true" modifiers="{}"/>-->
                        <h3>Signature</h3>
                        <field name="draw_signature" filename="filename" widget="image"/>
                    </sheet>
                </form>
            </field>
        </record>

        <!--Signature send invitation by email: template -->
        <record id="email_template_signature_e_sign" model="mail.template">
            <field name="name">Signature - OdooHQ Send by Email</field>
            <field name="model_id" ref="model_e_sign_signature" />
            <field name="email_from"><![CDATA["${user.company_id.name}" <${user.company_id.email}>]]></field>
            <field name="subject">Signature Required</field>
            <field name="auto_delete" eval="True" />
            <field name="body_html">
                <![CDATA[
<p>Dears ${object.user_id.name or ''}</p>
<p>Your signature is required on a document.</p>
<p><a style="margin-left: 85px; padding:5px 10px; border-radius: 3px; background-color:#875A7B; text-align:center; text-decoration:none; color:#F7FBFD;" href="__URL__">Go to document</a></p>

  <br/>
    <p>
    This is an automatically generated system message. Please do not reply to this e-mail.
    </p>

                <!--]]>-->
            </field>
        </record>

        <template id="e_sign_sign_page" name="Signature Page">
            <t t-call="website.layout">
                <div class="wrap">
                    <div class="oe_structure"/>
                    <div class="container">
                        <div t-field='document.id' class="e_sign_doc_id" style="display:none"/>
                        <input type="hidden" class="sign_token" t-att-value="token" />
                        <h1 t-field='document.name' />
                        My Signature: <span t-raw="status"/>



                        <form>


                            <field name="id" class="meeting_doc_id" invisible="1"/>
                            <div class="pstion"/>



                            <div id="holder" style="position:relative;text-align: center;background-color: rgb(82, 86, 89);" >
                                <div class="top_btns">
                                    <div class="btn  btn-sm doc_btn fa fa-chevron-left" id="prev" ></div>
                                    <div class="btn  btn-sm doc_btn fa fa-chevron-right" id="next" ></div>
                                    <span class="pg_no"> <span style="font-weight: bold;" id="page_num"></span> / <span id="page_count"></span></span>
                                    <div class="btn btn-sm doc_btn fa fa-minus"  id="zoomOut" title="Zoom Out" ></div>
                                    <div class="btn btn-sm doc_btn fa fa-plus"   id="zoomIn" title="Zoom In" ></div>
                                    <span style="display: inline-block;" id="scaleSelectContainer">
                                        <select  data-style= "btn-primary" id="scaleSelect" title="Zoom" tabindex="23" >
                                            <option title="" value="0.5" >50%</option>
                                            <option title="" value="0.75" >75%</option>
                                            <option title="" value="1">100%</option>
                                            <option title="" value="1.25">125%</option>
                                            <option title="" value="1.5">150%</option>
                                            <option title="" value="2">200%</option>
                                            <option title="" value="3">300%</option>
                                            <option title="" value="4">400%</option>
                                        </select>
                                    </span>


                                </div>


                                <div id="page_container1" style="height:430px;overflow-y:auto;overflow-x:auto;position:relative;">
                                    <div id="nxxt_sign" style="background:rgba(228, 21, 21, 0.9);color:white;position:absolute;z-index: 99;width:140px;padding: 10px;cursor: pointer;top:85px;border-bottom-right-radius: 78px;border-top-right-radius: 78px;">START SIGNING></div>


                                    <div id="page_container" style="overflow-y:auto;overflow-x:auto;text-align: initial;position:relative;display: inline-block;">
                                        <canvas id="the-canvas" style="border:1px solid black"></canvas>

                                    </div>
                                </div>
                            </div>
                            <link href="/e_sign/static/signature.css" rel="stylesheet"/>
                            <link href="/e_sign/static/signature_website.css" rel="stylesheet"/>
                            <script src="/e_sign/static/js/pdf.worker.js"/>
                            <script src="/e_sign/static/js/pdf.js"/>
                            <script src="/e_sign/static/js/viewer.js"/>
                            <script src="/dn_base/static/js/web.js"/>
                            <script src="/dn_base/static/js/ajax.js"/>
                            <script src="/dn_base/static/js/ready.js"/>

                        </form>

                    </div>

                    <div class="oe_structure"/>
                </div>
            </t>
        </template>

        <record id="action_e_sign_doc" model="ir.actions.act_window">
            <field name="name">E-Signature Documents</field>
            <field name="res_model">e_sign.document</field>
            <field name="sequence" eval="1"/>
            <field name="view_mode">kanban,tree,form</field>
        </record>

        <menuitem
                id="menu_e_sign"
                name="E-Signature"
                web_icon="e_sign,static/menu_icons/icons.png"
                action="action_e_sign_doc"
                groups="group_sign_specialist"
        />

    </data>
</odoo>