<app-breadcrumb title="Home" edit="1" app="meetings" model="news" rid="1">
</app-breadcrumb>
<div class="router-outlet home-container" *ngIf="ng_init">
    <div id="welcome">
        <div class="container">
            <div class="row">
                <div class="col-md-8 WelcomeContent">
                <h4 class="HomeTitle">
                    <span>{{home_data.title}}</span>
                </h4>
                <div class="HomePageDiscription">
                    <div *ngIf="home_data.description" class="HomePageContentText">
                        <div class="HomePageContentImg">                        
                            <img width="100%" src="{{home_data.photo}}">
                        </div>
                        <div id="home-content" [innerHtml]="home_data.description"></div>
                    </div>
                </div>
                </div>
                <div class="col-md-4">
                    <div class="HomeCalendarHead">
                        <img src="static/angular/assets/images/calendar.png" alt="Calendar" /> Calendar
                    </div>
                    <div class="home-calendarwrapper">
                        <div class="home-calendar">
                            <div class="month">
                                <ul>
                                    <li class="prev">&#10094;</li>
                                    <li class="next">&#10095;</li>
                                    <li>
                                    August<br>
                                    <span style="font-size:18px">2017</span>
                                    </li>
                                </ul>
                            </div>
                            <ul class="weekdays">
                                <li>Mo</li>
                                <li>Tu</li>
                                <li>We</li>
                                <li>Th</li>
                                <li>Fr</li>
                                <li>Sa</li>
                                <li>Su</li>
                            </ul>
                            <ul class="days">
                                <li>1</li>
                                <li>2</li>
                                <li>3</li>
                                <li>4</li>
                                <li>5</li>
                                <li>6</li>
                                <li>7</li>
                                <li>8</li>
                                <li>9</li>
                                <li><span class="active">10</span></li>
                                <li>11</li>
                                <li>12</li>
                                <li>13</li>
                                <li>14</li>
                                <li>15</li>
                                <li>16</li>
                                <li>17</li>
                                <li>18</li>
                                <li>19</li>
                                <li>20</li>
                                <li>21</li>
                                <li>22</li>
                                <li>23</li>
                                <li>24</li>
                                <li>25</li>
                                <li>26</li>
                                <li>27</li>
                                <li>28</li>
                                <li>29</li>
                                <li>30</li>
                                <li>31</li>
                            </ul>
                        </div>
                        <div class="full-calendar-btn">
                            <a routerLink="/calendar">Full Calendar</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div style="padding: 10%" *ngIf="!home_data.title && !home_data.description">
            <h1>WELCOME<br>TO MeetVUE</h1>
        </div>
        <section *ngIf="home_data.doc_ids && home_data.doc_ids.length" class="HomepageDocumentSection">
            <div class="container">
                <div class="row">
                <div class="col-sm-12">
                    <h4>
                        <b>Documents</b>
                    </h4>
                    <br>
                </div>
                <div class="col-sm-12">
                    <div class="row docwrappercontainer">
                        <a class="col-sm-6 col-md-4 col-lg-2" routerLink="/home/doc/{{doc.id}}" *ngFor="let doc of home_data.doc_ids">
                            <div class="DocumentWrapper">
                            <div class="DocIcon">
                                <span class="rounded-circle"><i class="fa fa-file"></i></span>
                            </div>
                            <div class="DocInfoVertical">
                                <div class="DocText">{{doc.name}}</div>
                            </div>
                            </div>
                        </a>
                    </div>
                </div>
                </div>
            </div>
        </section>
        <div *ngIf="home_data.video_ids && home_data.video_ids.length" class="container">
            <div class="row">
                <div class="col-sm-12">
                <h4>
                    <b>Videos</b>
                </h4>
                <br>
                </div>
                <div class="col-sm-12">
                <div class="row">
                    <div class="video thumbnail col-sm-6 col-md-4 col-lg-3" *ngFor="let video of home_data.video_ids">
                        <h5 class="docname">{{video.name}}</h5>
                        <iframe class="docThumbnail" frameborder="0" [src]="video.url"></iframe>
                        <div class="videoOverLayWrapper" (click)="view_video(video.name, video.original_url)"></div>
                    </div>
                </div>
                </div>
            </div>
        </div>
        <div id="to-do">
            <div *ngIf="home_data.to_do_items.pending_meetings && home_data.to_do_items.pending_meetings.length>0" class="">
                <div class="container bordered">
                <div class=" modal-header">
                    Upcoming Meetings
                </div>
                <div class="">
                    <div class="container">
                        <div class="row">
                            <div class="kanban-card" *ngFor="let meeting_object of home_data.to_do_items.pending_meetings">
                                <div class="kanban-meeting-info">
                                    <a class="kanban-upcoming-meeting" routerLink="/meeting/{{meeting_object.id}}">
                                        <div class="CalendarDateWrapper">
                                            <span *ngIf="meeting_object.start" class="CalendarDateWrap">
                                                <span class="kanban-upcoming-meeting-date">
                                                    {{meeting_object.start_dt.day}}
                                                </span>
                                                <span>
                                                    {{meeting_object.start_dt.month_year}}
                                                </span>
                                                <span>
                                                    {{meeting_object.start_dt.time}}
                                                </span>
                                            </span>
                                        </div>
                                        <div class="Info">
                                            <p *ngIf="meeting_object.name">
                                                <b>{{meeting_object.name}}</b>
                                            </p>
                                            <span *ngIf="meeting_object.location">{{meeting_object.location}}</span>
                                        </div>
                                    </a>
                                    <div class="upcomingButton btn-flex-1" id="tdmrb{{meeting_object.id}}">
                                        <button (click)="respond_invitation('accepted', meeting_object.id)" class="btn btn-meeting">
                                            <i *ngIf="meeting_object.attendee_status == 'accepted'" class="fa fa-check fa-lg" style="color:white" modifiers="{}"></i>
                                            <span name="accepted">Accept</span>
                                        </button>
                                        <button (click)="respond_invitation('declined', meeting_object.id)" class="btn btn-meeting">
                                            <i *ngIf="meeting_object.attendee_status == 'declined'" class="fa fa-check fa-lg" style="color:white" modifiers="{}"></i>
                                            <span name="declined">Decline</span>
                                        </button>
                                        <button (click)="respond_invitation('tentative', meeting_object.id)" class="btn btn-meeting">
                                            <i *ngIf="meeting_object.attendee_status == 'tentative'" class="fa fa-check fa-lg" style="color:white" modifiers="{}"></i>
                                            <span name="tentative">Tentative</span>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                </div>
            </div>
            <!--Surveys-->
            <div *ngIf="home_data.to_do_items.pending_surveys && home_data.to_do_items.pending_surveys.length" class="">
                <div class="container bordered">
                <div class="modal-header">
                    Surveys
                </div>
                <div class="">
                    <div class="container">
                        <div class="row">
                            <div class="kanban-card survey" *ngFor="let sur of home_data.to_do_items.pending_surveys">
                            <div class="SurveysInfoBox">
                                <div class="SurveysInfoBoxTitle">
                                    <h5>
                                        <b>{{sur.title}}</b>
                                        <span *ngIf="sur.meeting_name"> Meeting: {{sur.meeting_name}}</span>
                                    </h5>
                                </div>
                                <div class="SurveysInfoBoxBtn  btn-flex-1">
                                    <button class="btn btn-meeting" routerLink="/home/survey/{{sur.id}}">                                                
                                    <span>Start</span>
                                    </button>
                                </div>
                            </div>
                            </div>
                        </div>
                    </div>
                </div>
                </div>
            </div>
            <!--Votings-->
            <div *ngIf="home_data.to_do_items.pending_votings && home_data.to_do_items.pending_votings.length" class="">
                <div class="container bordered">
                <div class="modal-header">
                    Votings/Approvals
                </div>
                <div class="">
                    <div class="container">
                        <div class="row">
                            <div class="kanban-card voting" *ngFor="let vote of home_data.to_do_items.pending_votings">
                            <div class="VotingsInfoBox">
                                <div class="VotingsInfoBoxTitle ">
                                    <h5>
                                        <b>{{vote.name}}</b>
                                        <span *ngIf="vote.meeting_name"> Meeting: {{vote.meeting_name}}</span>
                                        <div><strong>Voting Type :</strong><span style="display:inline-block;">{{vote.voting_type_name}}</span></div>
                                    </h5>
                                </div>
                                <div class="bs-btnwrap">
                                    <button class="btn" routerLink="/voting/{{vote.id}}">                                                
                                    <span>Cast Vote</span>
                                    </button>
                                </div>
                            </div>
                            </div>
                        </div>
                    </div>
                </div>
                </div>
            </div>
            <!--Documents-->
            <div *ngIf="home_data.to_do_items.pending_documents && home_data.to_do_items.pending_documents.length" class="DocumentsSignWrapper">
                <div class="container bordered">
                <div class="modal-header">
                    Documents To Sign
                </div>
                <div class="">
                    <div class="container">
                        <div class="row">
                            <div class="kanban-card" *ngFor="let doc of home_data.to_do_items.pending_documents">
                            <a class="DocumentWrapper gray-bg" routerLink="/signdoc/{{doc.id}}">
                                <div class="DocIcon">
                                    <i class="fa fa-file"></i>
                                </div>
                                <div class="DocText">
                                    <div class="DocName">
                                        <h5>Title: {{doc.name}}</h5>
                                    </div>
                                    <div class="DocMeeting">
                                        Meeting: {{doc.meeting__name}}
                                    </div>
                                    <div class="SignatureText font-11">
                                        <span>My Signature: </span>
                                        <span class="pending-status">{{doc.mp_signature_status}}</span>
                                    </div>
                                </div>
                            </a>
                            </div>
                        </div>
                    </div>
                </div>
                </div>
            </div>
            <div class="res-message" *ngIf="!to_do_data">
                <h1>Congratulations!<br>You have no task pending :)</h1>
            </div>
        </div>
    </div>
    <div class="modal fade video" id="videoModal" role="dialog" aria-hidden="true">
        <div class="modal-dialog modal-lg modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <span class="title"></span>
                    <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">×</span></button>
                </div>
                <div class="modal-body">
                    <div class="embed-responsive embed-responsive-16by9">
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
</div>