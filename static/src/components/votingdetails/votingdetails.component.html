<app-breadcrumb *ngIf="voting_object" app="voting" model="voting" 
rid="{{voting_object.id}}" edit="1" delete="1" 
routes='[{"title":"Actions", "link":"/actions"}, {"title":"Resolutions", "link":"/actions/votings"}]'
title="{{voting_object.name}}"></app-breadcrumb>
<!-- <app-paginator></app-paginator>
<app-breadcrumb app="voting" model="voting" 
edit="1" delete="1" 
*ngIf="voting_object"
routes='[{"title":"Votings", "link":"/votings/{{voting_object.id}}"}]'
title="{{bread_crumb.title}}"></app-breadcrumb>     -->
<div class="router-outlet">
	<div class="container">

	</div>
    <div class="container" *ngIf="voting_object">
		<div class="MainTitleHeadWrap">
			<div class="HeadingWrap">
				Personal Info
			</div>
			<div class="MeetingBtnWrapper">
				<div class="btn-group" id="tdmrb{{voting_object.id}}">
					<a href="javascript:void(0);" (click)='respond_invitation(option.name, option.id, voting_object.id)' class="btn" *ngFor="let option of voting_object.voting_options">
						<i *ngIf="voting_object.my_status == option.name" class="fa fa-check fa-lg"  modifiers="{}"></i>
						<span name="option.name">{{option.name}}</span>
					</a>
					<a href="javascript:void(0);" style="display: none" *ngIf="voting_object && voting_object.signature_required == true" id="{{voting_object.id}}" class="fa fa-pen fa-lg strt_sign voting" url='/voting/save_signature'></a>
				</div>
			</div>
		</div>
        <div class=" form-details">
            <div class="meeting-details-form">
                <div class="row">
                    <!-- <div *ngIf="voting_object.signature">
                        <img src="data:image/png;base64,{{voting_object.signature}}" height="280" width="466" />
                    </div> -->
					<div *ngIf="voting_object.my_status" class="col-md-6 mb-2">
						<div class="meet-elements">
							My Status
						</div>
						<label class="meet-elementsInfo">
							{{voting_object.my_status}}
						</label>
					</div>

                    <div *ngIf="voting_object.name && voting_object.name" class="col-md-6 mb-2">
                        <div class="meet-elements">
                            Subject
                        </div>
                        <label class="meet-elementsInfo">
                            {{voting_object.name}}
                        </label>
                    </div>

                    <div *ngIf="voting_object.motion_first" class="col-md-6 mb-2">
                        <div class="meet-elements">
                            Motion First
                            <span class="fa fa-user motion-icon"></span>
                        </div>
                        <a class="col-sm-6 col-md-4 col-lg-4 anchor-mb" routerLink="/profile/{{voting_object.motion_first.id}}">{{voting_object.motion_first.name}}</a>
                    </div>

                    <div *ngIf="voting_object.motion_second" class="col-md-6 mb-2">
                        <div class="meet-elements">
                            Motion Second
                            <span class="fa fa-user motion-icon"></span>
                        </div>
                        <a class="col-sm-6 col-md-4 col-lg-4 anchor-mb" routerLink="/profile/{{voting_object.motion_second.id}}">{{voting_object.motion_second.name}}</a>
                    </div>

                    <div *ngIf="voting_object.meeting.name" class="col-md-6 mb-2">
                        <div class="meet-elements">
                            Meeting Subject
                        </div>
                        <a class="col-sm-6 col-md-4 col-lg-4 anchor-mb" routerLink="/home/meeting/{{voting_object.meeting.id}}">{{voting_object.meeting.name}}</a>
                    </div>

                    <div *ngIf="voting_object.topic.name" class="col-md-6 mb-2">
                        <div class="meet-elements">
                            Topic Subject
                        </div>
                        <a class="col-sm-6 col-md-4 col-lg-4 anchor-mb" routerLink="/topic/{{voting_object.topic.id}}">{{voting_object.topic.name}}</a>
                    </div>

                    <div *ngIf="voting_object.open_date && voting_object.open_date" class="col-md-6 mb-2">
                        <div class="meet-elements">
                            Open Date
                        </div>
                        <label class="meet-elementsInfo">
                            {{voting_object.open_date | date:'medium' }}
                        </label>
                    </div>

                    <div *ngIf="voting_object.close_date && voting_object.close_date" class="col-md-6 mb-2">
                        <div class="meet-elements">
                            Close Date
                        </div>
                        <label class="meet-elementsInfo">
                            {{voting_object.close_date | date:'medium'}}
                        </label>
                    </div>
					<div *ngIf="voting_object.hasOwnProperty('description') && voting_object.description" class="col-md-12 mb-2">
                        <div class="meet-elements">
                            Description
                        </div>
                        <label class="meet-elementsInfo" [innerHtml]="voting_object.description"></label>
                    </div>

                </div>

                <div class="row" *ngIf="voting_object.signature_data">
                    <div class="col-sm-8 " style="display: flex;">
                        <div style="position:relative;cursor: pointer;">
                            <img class="strt_sign_voting " style="width: 100%;" *ngIf="voting_object.signature_data" src="data:image/png;base64,{{voting_object.signature_data}}">
                        </div>
                    </div>
                </div>
                <div style="display:none" class="title-wrapper voting-chart">
                    <div class="modal-header">
                        Graphical View
                    </div>
                    <div class="row mt-5 mb-5 d-flex justify-content-center">
                        <div class="col-sm-12 col-md-7 col-lg-8">
							<canvas id="myChart"></canvas>
						</div>
					</div>
                </div>

                <div *ngIf="voting_object.voting_docs && voting_object.voting_docs.length" class="title-wrapper">
                    <div class="modal-header">
                        Voting Documents
                    </div>
					<div class="row docwrappercontainer">
						<div class="col-sm-6 col-md-4 col-lg-2 mb-4" *ngFor="let doc of voting_object.voting_docs">
							<a routerLink="/voting/doc/{{doc.id}}" class="">
								<div class="DocumentWrapper">
									<div class="DocIcon">
										<span class="rounded-circle">
											<i class="icon-doc-file"></i>
										</span>
									</div>
									<div class="DocInfoVertical text-truncate">
										{{doc.name}}
									</div>
								</div>
							</a>
						</div>
					</div>
                </div>
            </div>
        </div>
        <app-comments *ngIf="voting_object && voting_object.enable_discussion" res_app="{{discussion_params.res_app}}" res_model="{{discussion_params.res_model}}" res_id="{{discussion_params.res_id}}"></app-comments>
    </div>
</div>
